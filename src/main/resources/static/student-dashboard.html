<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Education System - –°—Ç—É–¥–µ–Ω—Ç</title>
    <link rel="stylesheet" href="/css/student-dashboard.css">
</head>
<body>
<div class="dashboard">
    <!-- Top Bar (Header) -->
    <div class="top-bar">
        <div class="brand-section">
            <div class="brand">
                <h1>üéì –ü–∞–Ω–µ–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞</h1>
                <p class="welcome-message" id="welcome-message">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</p>
                <p class="student-class" id="student-class">–ö–ª–∞—Å—Å: –ó–∞–≥—Ä—É–∑–∫–∞...</p>
            </div>

            <!-- Wikipedia Search Widget -->
            <div class="wikipedia-widget">
                <div class="search-container">
                    <input type="text"
                           id="wikipediaSearch"
                           placeholder="–ù–∞–π—Ç–∏ –º–∞—Ç–µ—Ä–∏–∞–ª –≤ Wikipedia..."
                           class="wikipedia-search-input">
                    <div id="wikipediaResults" class="wikipedia-results"></div>
                </div>
            </div>
        </div>

        <!-- Top Actions -->
        <div class="top-actions">
            <!-- Profile Button -->
            <a href="/profile.html" class="btn-action btn-nav">
                üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å
            </a>

            <!-- Chat Button -->
            <a href="/chat.html" class="btn-action btn-nav">
                üí¨ –ß–∞—Ç
                <span id="chat-badge" class="nav-badge" style="display: none;"></span>
            </a>

            <!-- Progress Button -->
            <a href="gamification.html" class="btn-action btn-nav">
                üèÜ –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å
            </a>

            <!-- Notification Badge -->
            <span id="notification-badge" style="display: none;"></span>

            <!-- Logout Button -->
            <button class="btn-logout" onclick="logout()">
                <span class="logout-icon">üö™</span>
                –í—ã–π—Ç–∏
            </button>
        </div>
    </div>

    <!-- Main Content -->
    <div class="content">
        <!-- Left Column -->
        <div class="left-column">
            <!-- Schedule Card -->
            <div class="card schedule-card">
                <div class="card-header">
                    <h2>üìÖ –ú–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ</h2>
                </div>
                <div class="schedule-section">
                    <div class="view-switcher">
                        <button id="day-view-btn" class="view-btn active">–î–µ–Ω—å</button>
                        <button id="week-view-btn" class="view-btn">–ù–µ–¥–µ–ª—è</button>
                    </div>

                    <div class="schedule-navigation">
                        <button onclick="scheduleManager.previous()" class="schedule-nav-btn">
                            <i>‚Üê</i>
                        </button>
                        <span id="schedule-period" class="schedule-period">–°–µ–≥–æ–¥–Ω—è</span>
                        <button onclick="scheduleManager.next()" class="schedule-nav-btn">
                            <i>‚Üí</i>
                        </button>
                    </div>

                    <div id="schedule-container">
                        <div class="loading-state">
                            <i>‚è≥</i>
                            <p>–ó–∞–≥—Ä—É–∑–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è...</p>
                        </div>
                    </div>
                </div>
            </div>
            <div class="dashboard-card">
                <div class="dashboard-card__header">
                    <h3 class="dashboard-card__title">üìã –û–ø—Ä–æ—Å—ã</h3>
                    <span class="badge badge-info">–ù–∞–¥–æ –ø—Ä–æ–π—Ç–∏ 1 –æ–ø—Ä–æ—Å(–æ–≤)</span>
                </div>
                <p class="dashboard-card__text">
                    –ù–∞–¥–æ –ø—Ä–æ–π—Ç–∏ 1 –æ–ø—Ä–æ—Å(–æ–≤). –ù–∞–∂–º–∏—Ç–µ, —á—Ç–æ–±—ã –æ—Ç–≤–µ—Ç–∏—Ç—å.
                </p>
                <button type="button"
                        id="open-survey-btn"
                        class="btn-action btn-primary btn-sm">
                    –ü—Ä–æ–π—Ç–∏ –æ–ø—Ä–æ—Å
                </button>
            </div>
        </div>



        <!-- Right Column -->
        <div class="right-column">
            <!-- Active Assignments Card -->
            <div class="card">
                <div class="card-header">
                    <h2>üìö –ê–∫—Ç–∏–≤–Ω—ã–µ –∑–∞–¥–∞–Ω–∏—è <span class="badge" id="assignments-count">0</span></h2>
                </div>

                <div class="tasks-filter">
                    <label for="activeTasksFilter" class="filter-label">–§–∏–ª—å—Ç—Ä:</label>
                    <select id="activeTasksFilter" class="filter-select">
                        <option value="active">–ê–∫—Ç–∏–≤–Ω—ã–µ</option>
                        <option value="overdue">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–Ω—ã–µ</option>
                    </select>
                </div>


                <div class="assignments-list" id="active-assignments">
                    <div class="loading-state">
                        <i>üìã</i>
                        <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π...</p>
                    </div>
                </div>
            </div>

            <!-- Submit Assignment Card -->
            <div class="card">
                <div class="card-header">
                    <h2>üì§ –°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</h2>
                </div>

                <form id="submitAssignmentForm" class="modal-form">
                    <div class="form-group">
                        <label for="assignmentSelect" class="required">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ</label>
                        <select id="assignmentSelect" required>
                            <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∑–∞–¥–∞–Ω–∏–µ</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="assignmentFile" class="required">–§–∞–π–ª –∑–∞–¥–∞–Ω–∏—è</label>
                        <div class="file-upload">
                            <input type="file"
                                   id="assignmentFile"
                                   accept=".pdf,.doc,.docx,.jpg,.png,.txt"
                                   required>
                            <label for="assignmentFile" class="file-upload-label">
                                <i>üìé</i> –í—ã–±–µ—Ä–∏—Ç–µ —Ñ–∞–π–ª
                            </label>
                            <div id="file-info" class="file-info"></div>
                        </div>
                        <div class="form-hint">
                            –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã: PDF, DOC, DOCX, JPG, PNG, TXT (–º–∞–∫—Å. 10MB)
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="assignmentComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π (–Ω–µ–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ)</label>
                        <textarea id="assignmentComment"
                                  rows="3"
                                  placeholder="–î–æ–±–∞–≤—å—Ç–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π –∫ –≤–∞—à–µ–º—É –∑–∞–¥–∞–Ω–∏—é..."></textarea>
                    </div>

                    <button type="submit" class="btn-action btn-primary" id="submit-btn">
                        üì§ –°–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                    </button>
                    <div id="submit-message" class="form-message" style="display: none;"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Bottom Statistics Section -->
    <div class="statistics-section">
        <!-- Statistics Card -->
        <div class="card">
            <div class="card-header">
                <h2>üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            </div>
            <div id="student-stats" class="stats-grid">
                <div class="stat-item">
                    <div class="stat-label">–í—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π</div>
                    <div class="stat-value" id="total-assignments">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ</div>
                    <div class="stat-value success" id="completed-assignments">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–ü—Ä–æ—Å—Ä–æ—á–µ–Ω–æ</div>
                    <div class="stat-value warning" id="overdue-assignments">0</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">–°—Ä–µ–¥–Ω–∏–π –±–∞–ª–ª</div>
                    <div class="stat-value" id="average-grade">0</div>
                </div>
            </div>
        </div>

        <!-- Grades Card -->
        <div class="card">
            <div class="card-header">
                <h2>üèÜ –ú–æ–∏ –æ—Ü–µ–Ω–∫–∏</h2>
            </div>
            <div class="grades-list" id="grades-list">
                <div class="loading-state">
                    <i>üìä</i>
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –æ—Ü–µ–Ω–æ–∫...</p>
                </div>
            </div>
        </div>
    </div>
</div>

<div id="survey-modal" class="survey-modal">
    <div class="survey-modal__content">
        <button type="button"
                class="survey-modal__close"
                id="survey-modal-close">&times;</button>

        <div id="survey-modal-body">
            <!-- —Å—é–¥–∞ JS –ø–æ–¥—Å—Ç–∞–≤–∏—Ç —Ñ–æ—Ä–º—É –æ–ø—Ä–æ—Å–∞ -->
        </div>
    </div>
</div>

<script src="/js/survey.js"></script>
<script src="/js/surveys-client.js"></script>
<script src="/js/api.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/student.js"></script>
<script src="/js/wikipedia.js"></script>
<script src="/js/notification.js"></script>
<script src="/js/schedule.js"></script>
</body>
</html>