<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è - Education System</title>

    <link rel="stylesheet" href="/css/teacher-gamification.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        .chart-card {
            background: white;
            padding: 20px;
            border-radius: 16px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.06);
            margin-bottom: 30px;
        }

        .chart-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 15px;
        }


    </style>
</head>
<body>

<header class="header">
    <div class="container">
        <nav class="nav">
            <div class="logo">
                <i class="fas fa-graduation-cap"></i>
                <span>EducationSystem</span>
            </div>
            <div class="nav-links">
                <a href="/student-dashboard.html"><i class="fas fa-home"></i> –ì–ª–∞–≤–Ω–∞—è</a>
                <a href="/assignments.html"><i class="fas fa-tasks"></i> –ó–∞–¥–∞–Ω–∏—è</a>
                <a href="/schedule.html"><i class="fas fa-calendar-alt"></i> –†–∞—Å–ø–∏—Å–∞–Ω–∏–µ</a>
                <a href="/statistics.html"><i class="fas fa-chart-bar"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</a>
                <a href="/gamification.html" class="active"><i class="fas fa-gamepad"></i> –ì–µ–π–º–∏—Ñ–∏–∫–∞—Ü–∏—è</a>
                <a href="/profile.html"><i class="fas fa-user"></i> –ü—Ä–æ—Ñ–∏–ª—å</a>
            </div>
        </nav>
    </div>
</header>

<div class="container">

    <!-- –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å -->
    <div class="card">
        <div class="card-header">
            <h2 class="card-title"><i class="fas fa-chart-line"></i> –ú–æ–π –ø—Ä–æ–≥—Ä–µ—Å—Å</h2>
            <div class="stats-badge level-badge">
                <i class="fas fa-crown"></i> –£—Ä–æ–≤–µ–Ω—å <span id="currentLevel">1</span>
            </div>
        </div>

        <div class="progress-container">
            <div class="progress-info">
                <span id="currentXP">0</span> XP
                <span id="nextLevelXP">100</span> XP
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="xpProgress" style="width: 0%"></div>
            </div>
        </div>

        <div class="teacher-stats-grid">
            <div class="stat-item">
                <div class="stat-value" id="completedAssignments">0</div>
                <div class="stat-label">–í—ã–ø–æ–ª–Ω–µ–Ω–æ –∑–∞–¥–∞–Ω–∏–π</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="perfectAssignments">0</div>
                <div class="stat-label">–û—Ç–ª–∏—á–Ω—ã—Ö —Ä–∞–±–æ—Ç</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="currentStreak">0</div>
                <div class="stat-label">–î–Ω–µ–π –ø–æ–¥—Ä—è–¥</div>
            </div>
            <div class="stat-item">
                <div class="stat-value" id="achievementsCount">0/0</div>
                <div class="stat-label">–î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
            </div>
        </div>
    </div>

    <!-- –¢–∞–±—ã -->
    <div class="tabs">
        <button class="tab-btn active" onclick="switchTab('achievements')"><i class="fas fa-medal"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</button>
        <button class="tab-btn" onclick="switchTab('leaderboard')"><i class="fas fa-trophy"></i> –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</button>
        <button class="tab-btn" onclick="switchTab('stats')"><i class="fas fa-chart-pie"></i> –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="tab-btn" onclick="switchTab('charts')"><i class="fas fa-chart-line"></i> –ì—Ä–∞—Ñ–∏–∫–∏</button>
    </div>

    <!-- –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è -->
    <div id="achievements-tab" class="tab-content active">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-medal"></i> –î–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h2>
                <div class="stats-badge" id="achievementsStats">
                    <span class="badge-count">0</span> –∏–∑ <span class="badge-total">0</span> –æ—Ç–∫—Ä—ã—Ç–æ
                </div>
            </div>

            <div class="filter-group">
                <select class="filter-select" onchange="filterAchievements(this.value)">
                    <option value="all">–í—Å–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</option>
                    <option value="assignments">–ó–∞–¥–∞–Ω–∏—è</option>
                    <option value="perfect_assignments">–û—Ç–ª–∏—á–Ω—ã–µ —Ä–∞–±–æ—Ç—ã</option>
                    <option value="streak">–°–µ—Ä–∏–∏</option>
                    <option value="level">–£—Ä–æ–≤–Ω–∏</option>
                </select>
            </div>

            <div class="achievements-grid" id="achievementsList"></div>
        </div>
    </div>

    <!-- –õ–∏–¥–µ—Ä–±–æ—Ä–¥ -->
    <div id="leaderboard-tab" class="tab-content">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-trophy"></i> –¢–∞–±–ª–∏—Ü–∞ –ª–∏–¥–µ—Ä–æ–≤</h2>
                <select class="filter-select" onchange="loadLeaderboard(this.value)">
                    <option value="">–í—Å–µ –∫–ª–∞—Å—Å—ã</option>
                </select>
            </div>

            <div class="podium" id="podium"></div>
            <div class="leaderboard" id="leaderboardList"></div>
        </div>
    </div>

    <!-- –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div id="stats-tab" class="tab-content">
        <div class="card">
            <div class="card-header">
                <h2 class="card-title"><i class="fas fa-chart-pie"></i> –ü–æ–¥—Ä–æ–±–Ω–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
            </div>

            <div class="teacher-stats-grid">
                <div class="stat-item"><div class="stat-value" id="totalXP">0</div><div class="stat-label">–í—Å–µ–≥–æ XP</div></div>
                <div class="stat-item"><div class="stat-value" id="maxStreak">0</div><div class="stat-label">–ú–∞–∫—Å. —Å–µ—Ä–∏—è</div></div>
                <div class="stat-item"><div class="stat-value" id="rankPosition">-</div><div class="stat-label">–ü–æ–∑–∏—Ü–∏—è –≤ —Ä–µ–π—Ç–∏–Ω–≥–µ</div></div>
                <div class="stat-item"><div class="stat-value" id="completionRate">0%</div><div class="stat-label">–ó–∞–≤–µ—Ä—à–µ–Ω–æ</div></div>
            </div>

            <div class="card-header" style="margin-top: 2rem; padding-top: 1.5rem; border-top: 1px solid var(--border);">
                <h3 class="card-title"><i class="fas fa-history"></i> –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</h3>
            </div>
            <div id="recentAchievements" class="achievements-grid"></div>
        </div>
    </div>

    <!-- üÜï –ì–†–ê–§–ò–ö–ò -->
    <div id="charts-tab" class="tab-content">
        <div class="chart-card">
            <div class="chart-title"><i class="fas fa-chart-line"></i> –ò—Å—Ç–æ—Ä–∏—è XP</div>
            <canvas id="xpHistoryChart"></canvas>
        </div>

        <div class="chart-card">
            <div class="chart-title"><i class="fas fa-chart-pie"></i> –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–π</div>
            <canvas id="achievementsChart"></canvas>
        </div>
    </div>

</div>
<!-- –ú–û–î–ê–õ–¨–ù–û–ï –û–ö–ù–û –î–û–°–¢–ò–ñ–ï–ù–ò–Ø -->
<div id="achievementModal" class="achievement-modal hidden">
    <div class="achievement-modal-backdrop"></div>
    <div class="achievement-modal-dialog">
        <button class="achievement-modal-close" type="button">&times;</button>

        <div class="achievement-modal-header">
            <div class="achievement-modal-icon">
                <i class="fas fa-trophy"></i>
            </div>
            <div>
                <div class="achievement-modal-name" id="achievementModalName">–ù–∞–∑–≤–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è</div>
                <div class="achievement-modal-type" id="achievementModalType">–ö–∞—Ç–µ–≥–æ—Ä–∏—è</div>
            </div>
        </div>

        <div class="achievement-modal-body">
            <p class="achievement-modal-desc" id="achievementModalDesc">
                –ü–æ–¥—Ä–æ–±–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è.
            </p>

            <div class="achievement-modal-section">
                <div class="achievement-modal-section-title">–ü—Ä–æ–≥—Ä–µ—Å—Å</div>
                <div class="achievement-modal-progress-bar">
                    <div class="achievement-modal-progress-fill" id="achievementModalProgressFill"></div>
                </div>
                <div class="achievement-modal-progress-text" id="achievementModalProgressText">
                    0 / 0 (0%)
                </div>
            </div>

            <div class="achievement-modal-section achievement-modal-flex">
                <div>
                    <div class="achievement-modal-section-title">–ù–∞–≥—Ä–∞–¥–∞</div>
                    <div class="achievement-modal-xp" id="achievementModalXP">+0 XP</div>
                </div>
                <div>
                    <div class="achievement-modal-section-title">–°—Ç–∞—Ç—É—Å</div>
                    <div class="achievement-modal-status" id="achievementModalStatus">–ï—â–µ –Ω–µ –ø–æ–ª—É—á–µ–Ω–æ</div>
                </div>
            </div>
        </div>
    </div>
</div>

<script src="/js/gamification.js"></script>

</body>
</html>
