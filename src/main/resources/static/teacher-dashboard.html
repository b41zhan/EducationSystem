<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Education System - –£—á–∏—Ç–µ–ª—å</title>
    <link rel="stylesheet" href="/css/style.css">
</head>
<body>
<div class="dashboard">
    <div class="header">
        <div class="user-info">
            <div>
                <h1>–ü–∞–Ω–µ–ª—å —É—á–∏—Ç–µ–ª—è</h1>
                <p id="welcome-message">–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å!</p>
            </div>
            <div>
                <a href="/profile.html" class="btn-primary" style="margin-right: 10px;">üë§ –ú–æ–π –ø—Ä–æ—Ñ–∏–ª—å</a>
                <button class="btn-logout" onclick="logout()">–í—ã–π—Ç–∏</button>
            </div>
        </div>
    </div>

    <div class="content">
        <!-- –õ–µ–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
        <div class="left-column">
            <div class="card">
                <h2>–ë—ã—Å—Ç—Ä—ã–µ –¥–µ–π—Å—Ç–≤–∏—è</h2>
                <button class="btn-primary" onclick="showCreateAssignmentModal()">
                    –°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ
                </button>
                <button class="btn-secondary" onclick="loadSubmissionsToGrade()">
                    üîÑ –û–±–Ω–æ–≤–∏—Ç—å —Å–ø–∏—Å–æ–∫ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É
                </button>
                <div style="margin-top: 10px; font-size: 14px; color: #666;">
                    <span id="pending-count">0</span> –∑–∞–¥–∞–Ω–∏–π –∂–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
                </div>
            </div>

            <div class="card">
                <h2>–ú–æ–∏ –∫–ª–∞—Å—Å—ã</h2>
                <div id="classes-list">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∫–ª–∞—Å—Å–æ–≤...</p>
                </div>
            </div>
        </div>

        <!-- –ü—Ä–∞–≤–∞—è –∫–æ–ª–æ–Ω–∫–∞ -->
        <div class="right-column">
            <!-- –ë–ª–æ–∫ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ —Å –ø–æ–∏—Å–∫–æ–º –∏ –ø–∞–≥–∏–Ω–∞—Ü–∏–µ–π -->
            <div class="card">
                <h2>–ú–æ–∏ –∑–∞–¥–∞–Ω–∏—è</h2>

                <!-- –ü–æ–∏—Å–∫ -->
                <!-- –ü–æ–∏—Å–∫ –∏ —Ñ–∏–ª—å—Ç—Ä—ã -->
                <div class="search-filters">
                    <div class="form-group">
                        <input type="text" id="searchAssignments" placeholder="–ü–æ–∏—Å–∫ –ø–æ –Ω–∞–∑–≤–∞–Ω–∏—é –∑–∞–¥–∞–Ω–∏—è..."
                               onkeyup="searchTeacherAssignments()">
                    </div>
                    <div class="filter-row">
                        <div class="form-group">
                            <label for="classFilter">–§–∏–ª—å—Ç—Ä –ø–æ –∫–ª–∞—Å—Å—É:</label>
                            <select id="classFilter" onchange="filterTeacherAssignments()">
                                <option value="">–í—Å–µ –∫–ª–∞—Å—Å—ã</option>
                                <!-- –ö–ª–∞—Å—Å—ã –±—É–¥—É—Ç –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
                            </select>
                        </div>
                        <button class="btn-secondary" onclick="clearFilters()" style="margin-top: 25px;">
                            –û—á–∏—Å—Ç–∏—Ç—å —Ñ–∏–ª—å—Ç—Ä—ã
                        </button>
                    </div>
                </div>

                <!-- –°–ø–∏—Å–æ–∫ –∑–∞–¥–∞–Ω–∏–π -->
                <div id="assignments-list">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π...</p>
                </div>

                <!-- –ü–∞–≥–∏–Ω–∞—Ü–∏—è -->
                <div id="pagination" class="pagination" style="display: none;">
                    <button id="prev-page" class="btn-secondary" onclick="changePage(-1)">‚Üê –ù–∞–∑–∞–¥</button>
                    <span id="page-info">–°—Ç—Ä–∞–Ω–∏—Ü–∞ 1 –∏–∑ 1</span>
                    <button id="next-page" class="btn-secondary" onclick="changePage(1)">–í–ø–µ—Ä–µ–¥ ‚Üí</button>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ —Å –∑–∞–¥–∞–Ω–∏—è–º–∏ –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É -->
            <div class="card">
                <h2>–ó–∞–¥–∞–Ω–∏—è –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É</h2>
                <div id="submissions-to-grade">
                    <p>–ó–∞–≥—Ä—É–∑–∫–∞ –∑–∞–¥–∞–Ω–∏–π –Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫—É...</p>
                </div>
            </div>

            <!-- –ë–ª–æ–∫ —Å–æ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–æ–π -->
            <div class="card">
                <h2>–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</h2>
                <div id="teacher-stats">
                    <p>–í—Å–µ–≥–æ –∑–∞–¥–∞–Ω–∏–π: <span id="total-assignments">0</span></p>
                    <p>–ù–∞ –ø—Ä–æ–≤–µ—Ä–∫–µ: <span id="pending-submissions">0</span></p>
                    <p>–ü—Ä–æ–≤–µ—Ä–µ–Ω–æ: <span id="graded-submissions">0</span></p>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–¥–∞–Ω–∏—è -->
<div id="createAssignmentModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeCreateAssignmentModal()">&times;</span>
        <h2>–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –∑–∞–¥–∞–Ω–∏–µ</h2>
        <form id="createAssignmentForm">
            <div class="form-group">
                <label for="assignmentTitle">–ù–∞–∑–≤–∞–Ω–∏–µ:</label>
                <input type="text" id="assignmentTitle" required>
            </div>
            <div class="form-group">
                <label for="assignmentDescription">–û–ø–∏—Å–∞–Ω–∏–µ:</label>
                <textarea id="assignmentDescription" rows="4"></textarea>
            </div>
            <div class="form-group">
                <label for="assignmentType">–¢–∏–ø:</label>
                <select id="assignmentType" required>
                    <option value="homework">–î–æ–º–∞—à–Ω–µ–µ –∑–∞–¥–∞–Ω–∏–µ</option>
                    <option value="test">–¢–µ—Å—Ç</option>
                    <option value="quiz">–í–∏–∫—Ç–æ—Ä–∏–Ω–∞</option>
                    <option value="sor">–°–û–†</option>
                    <option value="soch">–°–û–ß</option>
                </select>
            </div>
            <div class="form-group">
                <label for="assignmentMaxGrade">–ú–∞–∫—Å. –æ—Ü–µ–Ω–∫–∞:</label>
                <input type="number" id="assignmentMaxGrade" value="100" min="1" max="100">
            </div>
            <div class="form-group">
                <label for="assignmentDeadline">–°—Ä–æ–∫ —Å–¥–∞—á–∏:</label>
                <input type="datetime-local" id="assignmentDeadline" required>
            </div>
            <div class="form-group">
                <label for="assignmentClass">–ö–ª–∞—Å—Å:</label>
                <select id="assignmentClass" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –∫–ª–∞—Å—Å</option>
                </select>
            </div>
            <div class="form-group">
                <label for="assignmentSubject">–ü—Ä–µ–¥–º–µ—Ç:</label>
                <select id="assignmentSubject" required>
                    <option value="">–í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–µ–¥–º–µ—Ç</option>
                    <option value="1">–ú–∞—Ç–µ–º–∞—Ç–∏–∫–∞</option>
                    <option value="2">–§–∏–∑–∏–∫–∞</option>
                    <option value="3">–•–∏–º–∏—è</option>
                    <option value="4">–ò—Å—Ç–æ—Ä–∏—è</option>
                    <option value="5">–õ–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞</option>
                </select>
            </div>
            <button type="submit" class="btn-primary">–°–æ–∑–¥–∞—Ç—å –∑–∞–¥–∞–Ω–∏–µ</button>
        </form>
    </div>
</div>

<!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –æ—Ü–µ–Ω–∫–∏ –∑–∞–¥–∞–Ω–∏—è -->
<div id="gradeSubmissionModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close" onclick="closeGradeSubmissionModal()">&times;</span>
        <h2>–û—Ü–µ–Ω–∫–∞ –∑–∞–¥–∞–Ω–∏—è</h2>
        <div id="submission-details">
            <!-- –î–µ—Ç–∞–ª–∏ –∑–∞–¥–∞–Ω–∏—è –±—É–¥—É—Ç –∑–¥–µ—Å—å -->
        </div>
        <form id="gradeSubmissionForm">
            <input type="hidden" id="submissionId">
            <div class="form-group">
                <label for="gradeValue">–û—Ü–µ–Ω–∫–∞:</label>
                <input type="number" id="gradeValue" min="0" max="100" required>
                <small>–ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞: <span id="max-grade">100</span></small>
            </div>
            <div class="form-group">
                <label for="teacherComment">–ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π:</label>
                <textarea id="teacherComment" rows="4" placeholder="–û–±—Ä–∞—Ç–Ω–∞—è —Å–≤—è–∑—å –¥–ª—è —Å—Ç—É–¥–µ–Ω—Ç–∞..."></textarea>
            </div>
            <div class="form-actions">
                <button type="submit" class="btn-primary">–ü–æ—Å—Ç–∞–≤–∏—Ç—å –æ—Ü–µ–Ω–∫—É</button>
                <button type="button" class="btn-secondary" onclick="closeGradeSubmissionModal()">–û—Ç–º–µ–Ω–∞</button>
            </div>
            <button onclick="testDownload()" class="btn-primary">–¢–µ—Å—Ç —Å–∫–∞—á–∏–≤–∞–Ω–∏—è</button>
        </form>
    </div>
</div>

<script src="/js/api.js"></script>
<script src="/js/auth.js"></script>
<script src="/js/teacher.js"></script>
</body>
</html>